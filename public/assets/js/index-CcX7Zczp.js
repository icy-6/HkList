import{u as x,g as J}from"./accounts-D7xBpGW2.js";import{d as B,s as T,b as P,e as g,j as l,Q as F,f as a,g as e,h as w,l as Y,F as y,k as I,i as b,M as j,o as _,w as H,n as X,m as h,t as ee}from"./index-DfK_AuQa.js";import{g as Q}from"./getUrlId-C6EUnTTr.js";import{D as $}from"./index-CizeZEZA.js";import{F as N,a as O}from"./index-BrDyvP4W.js";import{S as E,O as L}from"./index-CJhdthvT.js";import{T as Z}from"./index-B7K-_guC.js";import{I as W,S as R,C as le}from"./index-jWhfq8_6.js";import{L as ae}from"./index-CFxShdAm.js";import{B as A}from"./index-DfLWWs_9.js";import{S as oe}from"./index-BG3c6vWu.js";import{f as M}from"./format-YoKwq1Pz.js";import{a as te,D as ue}from"./index--lHULiBS.js";import{T as ne}from"./index-BB20r3vW.js";import"./useCommonStore-Cm69_3M8.js";import"./fake-arrow-XbHKTFne.js";import"./omit-BSm0-P2Q.js";import"./index-B4XBjvuu.js";import"./index-CIv83i9o.js";import"./index-3CbCL5Pk.js";import"./add-NVN9jDI3.js";const de={key:1},ie={key:1},se=B({__name:"AddAccount",setup(z){const m=x(),{isAddAccount:v,addAccountType:t,addAccountInput:i}=T(m),S={cookie:[{required:!0,message:"Cookie不能为空"}],refresh_token:[{required:!0,message:"RefreshToken不能为空"}],dlink_cookie:[{required:!0,message:"Dlink账号不能为空"}],surl:[{required:!0,message:"Surl不能为空"}],url:[{required:!0,message:"分享链接不能为空"}],pwd:[{required:!0,message:"链接密码不能为空"}],dir:[{required:!0,message:"盘内路径不能为空"}],save_cookie:[{required:!0,message:"企业号CK不能为空"}],download_cookie:[{required:!0,message:"普通号CK不能为空"}],cid:[{required:!0,message:"企业ID不能为空"}]},U=async({validateResult:n})=>{n===!0&&(await m.addAccount(),d.value=[])},f=()=>{const n=Q(i.value.url);if(!n)return;const{surl:u,pwd:c,url:C}=n;i.value.surl=u,i.value.url=C,c&&(i.value.pwd=c,j.success("已自动填写密码~"))},d=P([]),o=async()=>{const n=t.value==="enterprise_cookie"?i.value.cookie:i.value.save_cookie;if(!n)return;i.value.cid=0,d.value=[];const u=await J({cookie:n});d.value=u.data};return(n,u)=>{const c=L,C=E,p=O,k=Z,V=W,D=ae,K=A,q=R,s=N,G=$;return _(),g(G,{visible:l(v),"onUpdate:visible":u[18]||(u[18]=r=>F(v)?v.value=r:null),header:"添加账号",footer:!1,width:800},{default:a(()=>[e(s,{data:l(i),rules:S,onSubmit:U,labelWidth:130},{default:a(()=>[e(p,{label:"账号类型"},{default:a(()=>[e(C,{modelValue:l(t),"onUpdate:modelValue":u[0]||(u[0]=r=>F(t)?t.value=r:null)},{default:a(()=>[e(c,{label:"Cookie",value:"cookie"}),e(c,{label:"企业",value:"enterprise_cookie"}),e(c,{label:"开放平台",value:"open_platform"}),e(c,{label:"开放平台NAS",value:"open_platform_nas"}),e(c,{label:"下载卷",value:"download_ticket"})]),_:1},8,["modelValue"])]),_:1}),l(t)==="cookie"?(_(),g(p,{key:0,label:"Cookie",name:"cookie"},{default:a(()=>[e(k,{modelValue:l(i).cookie,"onUpdate:modelValue":u[1]||(u[1]=r=>l(i).cookie=r)},null,8,["modelValue"])]),_:1})):l(t)==="enterprise_cookie"?(_(),w(y,{key:1},[e(p,{label:"Cookie",name:"cookie"},{default:a(()=>[e(k,{modelValue:l(i).cookie,"onUpdate:modelValue":u[2]||(u[2]=r=>l(i).cookie=r),onBlur:o},null,8,["modelValue"])]),_:1}),e(p,{label:"选择企业",name:"选择CID"},{default:a(()=>[d.value.length>0?(_(),g(C,{key:0,modelValue:l(i).cid,"onUpdate:modelValue":u[3]||(u[3]=r=>l(i).cid=r)},{default:a(()=>[(_(!0),w(y,null,I(d.value,r=>(_(),g(c,{key:r.cid,label:r.org_name,value:r.cid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(_(),w("span",de," 请先填写Cookie "))]),_:1}),e(p,{label:"企业ID",name:"cid"},{default:a(()=>[e(V,{modelValue:l(i).cid,"onUpdate:modelValue":u[4]||(u[4]=r=>l(i).cid=r),disabled:""},null,8,["modelValue"])]),_:1}),e(p,{label:"额外普通号",name:"dlink_cookie",help:"可留空"},{default:a(()=>[e(k,{modelValue:l(i).dlink_cookie,"onUpdate:modelValue":u[5]||(u[5]=r=>l(i).dlink_cookie=r)},null,8,["modelValue"])]),_:1})],64)):l(t)==="open_platform"?(_(),w(y,{key:2},[e(p,{label:"RefreshToken",name:"refresh_token"},{default:a(()=>[e(k,{modelValue:l(i).refresh_token,"onUpdate:modelValue":u[6]||(u[6]=r=>l(i).refresh_token=r)},null,8,["modelValue"])]),_:1}),e(p,{label:"获取链接"},{default:a(()=>[e(D,{href:"https://openapi.baidu.com/oauth/2.0/authorize?client_id=omiOnr2tYnN9vSyDErcVFWpPU2mZA7YO&scope=basic%2Cnetdisk&response_type=code&redirect_uri=https%3A%2F%2Fapi.oplist.org%2Fbaiduyun%2Fcallback",target:"_blank"},{default:a(()=>u[19]||(u[19]=[b(" 点击跳转 ")])),_:1,__:[19]})]),_:1})],64)):l(t)==="open_platform_nas"?(_(),w(y,{key:3},[e(p,{label:"AccessToken",name:"access_token"},{default:a(()=>[e(k,{modelValue:l(i).access_token,"onUpdate:modelValue":u[7]||(u[7]=r=>l(i).access_token=r)},null,8,["modelValue"])]),_:1}),e(p,{label:"Device ID",name:"device_id"},{default:a(()=>[e(V,{modelValue:l(i).device_id,"onUpdate:modelValue":u[8]||(u[8]=r=>l(i).device_id=r)},null,8,["modelValue"])]),_:1}),e(p,{label:"Dlink账号",name:"dlink_cookie"},{default:a(()=>[e(k,{modelValue:l(i).dlink_cookie,"onUpdate:modelValue":u[9]||(u[9]=r=>l(i).dlink_cookie=r)},null,8,["modelValue"])]),_:1})],64)):l(t)==="download_ticket"?(_(),w(y,{key:4},[e(p,{label:"分享链接",name:"url",help:"链接需要对应下方填入的文件夹名称"},{default:a(()=>[e(V,{modelValue:l(i).url,"onUpdate:modelValue":u[10]||(u[10]=r=>l(i).url=r),onBlur:f},null,8,["modelValue"])]),_:1}),e(p,{label:"Surl",name:"surl"},{default:a(()=>[e(V,{modelValue:l(i).surl,"onUpdate:modelValue":u[11]||(u[11]=r=>l(i).surl=r),disabled:""},null,8,["modelValue"])]),_:1}),e(p,{label:"提取码",name:"pwd"},{default:a(()=>[e(V,{modelValue:l(i).pwd,"onUpdate:modelValue":u[12]||(u[12]=r=>l(i).pwd=r)},null,8,["modelValue"])]),_:1}),e(p,{label:"文件夹名称",name:"dir",help:"以/打头,需要提前创建该文件夹"},{default:a(()=>[e(V,{modelValue:l(i).dir,"onUpdate:modelValue":u[13]||(u[13]=r=>l(i).dir=r)},null,8,["modelValue"])]),_:1}),e(p,{label:"企业号CK",name:"save_cookie"},{default:a(()=>[e(k,{modelValue:l(i).save_cookie,"onUpdate:modelValue":u[14]||(u[14]=r=>l(i).save_cookie=r),onBlur:o},null,8,["modelValue"])]),_:1}),e(p,{label:"选择企业",name:"选择CID"},{default:a(()=>[d.value.length>0?(_(),g(C,{key:0,modelValue:l(i).cid,"onUpdate:modelValue":u[15]||(u[15]=r=>l(i).cid=r)},{default:a(()=>[(_(!0),w(y,null,I(d.value,r=>(_(),g(c,{key:r.cid,label:r.org_name,value:r.cid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(_(),w("span",ie," 请先填写Cookie "))]),_:1}),e(p,{label:"企业ID",name:"cid"},{default:a(()=>[e(V,{modelValue:l(i).cid,"onUpdate:modelValue":u[16]||(u[16]=r=>l(i).cid=r),disabled:""},null,8,["modelValue"])]),_:1}),e(p,{label:"普通号CK",name:"download_cookie"},{default:a(()=>[e(k,{modelValue:l(i).download_cookie,"onUpdate:modelValue":u[17]||(u[17]=r=>l(i).download_cookie=r)},null,8,["modelValue"])]),_:1})],64)):Y("",!0),e(p,null,{default:a(()=>[e(q,{size:"small"},{default:a(()=>[e(K,{theme:"default",onClick:l(m).hideAddAccountDialog},{default:a(()=>u[20]||(u[20]=[b(" 取消 ")])),_:1,__:[20]},8,["onClick"]),e(K,{type:"submit",disabled:(l(t)==="enterprise_cookie"||l(t)==="download_ticket")&&l(i).cid===0},{default:a(()=>u[21]||(u[21]=[b(" 提交 ")])),_:1,__:[21]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"])}}}),re=B({__name:"UpdateProv",setup(z){const m=x(),{isUpdateProvDialog:v,updateProvReq:t,selectedRowKeys:i}=T(m),S={},U=async({validateResult:f})=>{f===!0&&(await m.updateProvSelection(),m.hideUpdateProvDialog())};return(f,d)=>{const o=L,n=E,u=O,c=W,C=A,p=R,k=N,V=$;return _(),g(V,{visible:l(v),"onUpdate:visible":d[1]||(d[1]=D=>F(v)?v.value=D:null),header:"更新账号省份",footer:!1},{default:a(()=>[e(k,{onSubmit:U,data:l(t),rules:S,labelWidth:130},{default:a(()=>[e(u,{label:"省份",name:"prov"},{default:a(()=>[e(n,{modelValue:l(t).prov,"onUpdate:modelValue":d[0]||(d[0]=D=>l(t).prov=D)},{default:a(()=>[e(o,{label:"未分配",value:null}),e(o,{label:"北京市",value:"北京市"}),e(o,{label:"天津市",value:"天津市"}),e(o,{label:"上海市",value:"上海市"}),e(o,{label:"重庆市",value:"重庆市"}),e(o,{label:"河北省",value:"河北省"}),e(o,{label:"山西省",value:"山西省"}),e(o,{label:"内蒙古自治区",value:"内蒙古自治区"}),e(o,{label:"辽宁省",value:"辽宁省"}),e(o,{label:"吉林省",value:"吉林省"}),e(o,{label:"黑龙江省",value:"黑龙江省"}),e(o,{label:"江苏省",value:"江苏省"}),e(o,{label:"浙江省",value:"浙江省"}),e(o,{label:"安徽省",value:"安徽省"}),e(o,{label:"福建省",value:"福建省"}),e(o,{label:"江西省",value:"江西省"}),e(o,{label:"山东省",value:"山东省"}),e(o,{label:"河南省",value:"河南省"}),e(o,{label:"湖北省",value:"湖北省"}),e(o,{label:"湖南省",value:"湖南省"}),e(o,{label:"广东省",value:"广东省"}),e(o,{label:"广西壮族自治区",value:"广西壮族自治区"}),e(o,{label:"海南省",value:"海南省"}),e(o,{label:"四川省",value:"四川省"}),e(o,{label:"贵州省",value:"贵州省"}),e(o,{label:"云南省",value:"云南省"}),e(o,{label:"西藏自治区",value:"西藏自治区"}),e(o,{label:"陕西省",value:"陕西省"}),e(o,{label:"甘肃省",value:"甘肃省"}),e(o,{label:"青海省",value:"青海省"}),e(o,{label:"宁夏回族自治区",value:"宁夏回族自治区"}),e(o,{label:"新疆维吾尔自治区",value:"新疆维吾尔自治区"}),e(o,{label:"香港特别行政区",value:"香港特别行政区"}),e(o,{label:"澳门特别行政区",value:"澳门特别行政区"}),e(o,{label:"台湾省",value:"台湾省"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"选中的账号"},{default:a(()=>[e(c,{value:JSON.stringify(l(i)),disabled:""},null,8,["value"])]),_:1}),e(u,null,{default:a(()=>[e(p,{size:"small"},{default:a(()=>[e(C,{theme:"default",onClick:l(m).hideUpdateProvDialog},{default:a(()=>d[2]||(d[2]=[b(" 取消 ")])),_:1,__:[2]},8,["onClick"]),e(C,{type:"submit"},{default:a(()=>d[3]||(d[3]=[b(" 提交 ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"])}}}),ce=B({__name:"UpdateSwitch",setup(z){const m=x(),{isUpdateSwitch:v,updateSwitchReq:t,selectedRowKeys:i}=T(m),S={},U=async({validateResult:f})=>{f===!0&&(await m.updateSwitch(),m.hideUpdateSwitchDialog())};return(f,d)=>{const o=oe,n=O,u=W,c=A,C=R,p=N,k=$;return _(),g(k,{visible:l(v),"onUpdate:visible":d[1]||(d[1]=V=>F(v)?v.value=V:null),header:"更新账号",footer:!1},{default:a(()=>[e(p,{onSubmit:U,data:l(t),rules:S},{default:a(()=>[e(n,{label:"启用",name:"switch"},{default:a(()=>[e(o,{modelValue:l(t).switch,"onUpdate:modelValue":d[0]||(d[0]=V=>l(t).switch=V)},null,8,["modelValue"])]),_:1}),e(n,{label:"选中的账号"},{default:a(()=>[e(u,{value:JSON.stringify(l(i)),disabled:""},null,8,["value"])]),_:1}),e(n,null,{default:a(()=>[e(C,{size:"small"},{default:a(()=>[e(c,{theme:"default",onClick:l(m).hideUpdateSwitchDialog},{default:a(()=>d[2]||(d[2]=[b(" 取消 ")])),_:1,__:[2]},8,["onClick"]),e(c,{type:"submit"},{default:a(()=>d[3]||(d[3]=[b(" 提交 ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"])}}}),_e={key:1},me={key:1},pe=B({__name:"UpdateAccountData",setup(z){const m=x(),{isUpdatingAccountData:v,updateAccountDataInfo:t}=T(m),i={cookie:[{required:!0,message:"Cookie不能为空"}],refresh_token:[{required:!0,message:"RefreshToken不能为空"}],surl:[{required:!0,message:"Surl不能为空"}],pwd:[{required:!0,message:"链接密码不能为空"}],dir:[{required:!0,message:"盘内路径不能为空"}],save_cookie:[{required:!0,message:"企业号CK不能为空"}],download_cookie:[{required:!0,message:"普通号CK不能为空"}]},S=async({validateResult:o})=>{o===!0&&(await m.updateAccountData(),m.hideUpdateAccountDataDialog())},U=P(""),f=P([]);H(t,async o=>{if(U.value="",f.value=[],o.account_type==="download_ticket"&&"surl"in o.account_data&&"save_cookie"in o.account_data){U.value=`https://pan.baidu.com/s/${o.account_data.surl}`;const n=await J({cookie:o.account_data.save_cookie});f.value=n.data}if(o.account_type==="enterprise_cookie"&&"cookie"in o.account_data){const n=await J({cookie:o.account_data.cookie});f.value=n.data}});const d=()=>{const o=Q(U.value);if(!o)return;const{surl:n,pwd:u}=o;"surl"in t.value.account_data&&(t.value.account_data.surl=n,u&&(t.value.account_data.pwd=u,j.success("已自动填写密码~")))};return(o,n)=>{const u=Z,c=O,C=L,p=E,k=W,V=A,D=R,K=N,q=$;return _(),g(q,{visible:l(v),"onUpdate:visible":n[17]||(n[17]=s=>F(v)?v.value=s:null),header:"编辑账号",footer:!1,width:800},{default:a(()=>[e(K,{data:l(t).account_data,rules:i,onSubmit:S,labelWidth:130},{default:a(()=>[l(t).account_type==="cookie"&&"cookie"in l(t).account_data?(_(),g(c,{key:0,label:"Cookie",name:"cookie"},{default:a(()=>[e(u,{modelValue:l(t).account_data.cookie,"onUpdate:modelValue":n[0]||(n[0]=s=>l(t).account_data.cookie=s)},null,8,["modelValue"])]),_:1})):l(t).account_type==="enterprise_cookie"&&"cookie"in l(t).account_data&&"dlink_cookie"in l(t).account_data&&"cid"in l(t).account_data?(_(),w(y,{key:1},[e(c,{label:"Cookie",name:"cookie"},{default:a(()=>[e(u,{modelValue:l(t).account_data.cookie,"onUpdate:modelValue":n[1]||(n[1]=s=>l(t).account_data.cookie=s)},null,8,["modelValue"])]),_:1}),e(c,{label:"选择企业",name:"选择CID"},{default:a(()=>[f.value.length>0?(_(),g(p,{key:0,modelValue:l(t).account_data.cid,"onUpdate:modelValue":n[2]||(n[2]=s=>l(t).account_data.cid=s)},{default:a(()=>[(_(!0),w(y,null,I(f.value,s=>(_(),g(C,{key:s.cid,label:s.org_name,value:s.cid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(_(),w("span",_e," 请先填写Cookie "))]),_:1}),e(c,{label:"企业ID",name:"cid"},{default:a(()=>[e(k,{modelValue:l(t).account_data.cid,"onUpdate:modelValue":n[3]||(n[3]=s=>l(t).account_data.cid=s),disabled:""},null,8,["modelValue"])]),_:1}),e(c,{label:"额外普通号",name:"dlink_cookie",help:"可留空"},{default:a(()=>[e(u,{modelValue:l(t).account_data.dlink_cookie,"onUpdate:modelValue":n[4]||(n[4]=s=>l(t).account_data.dlink_cookie=s)},null,8,["modelValue"])]),_:1})],64)):l(t).account_type==="open_platform"&&"refresh_token"in l(t).account_data?(_(),g(c,{key:2,label:"RefreshToken",name:"refresh_token"},{default:a(()=>[e(k,{modelValue:l(t).account_data.refresh_token,"onUpdate:modelValue":n[5]||(n[5]=s=>l(t).account_data.refresh_token=s)},null,8,["modelValue"])]),_:1})):l(t).account_type==="download_ticket"&&"surl"in l(t).account_data?(_(),w(y,{key:3},[e(c,{label:"分享链接",name:"url"},{default:a(()=>[e(k,{modelValue:U.value,"onUpdate:modelValue":n[6]||(n[6]=s=>U.value=s),onBlur:d},null,8,["modelValue"])]),_:1}),e(c,{label:"Surl",name:"surl"},{default:a(()=>[e(k,{modelValue:l(t).account_data.surl,"onUpdate:modelValue":n[7]||(n[7]=s=>l(t).account_data.surl=s),disabled:""},null,8,["modelValue"])]),_:1}),e(c,{label:"提取码",name:"pwd"},{default:a(()=>[e(k,{modelValue:l(t).account_data.pwd,"onUpdate:modelValue":n[8]||(n[8]=s=>l(t).account_data.pwd=s)},null,8,["modelValue"])]),_:1}),e(c,{label:"文件夹名称",name:"dir",help:"以/打头,需要提前创建该文件夹"},{default:a(()=>[e(k,{modelValue:l(t).account_data.dir,"onUpdate:modelValue":n[9]||(n[9]=s=>l(t).account_data.dir=s)},null,8,["modelValue"])]),_:1}),e(c,{label:"企业号CK",name:"save_cookie"},{default:a(()=>[e(u,{modelValue:l(t).account_data.save_cookie,"onUpdate:modelValue":n[10]||(n[10]=s=>l(t).account_data.save_cookie=s)},null,8,["modelValue"])]),_:1}),e(c,{label:"选择企业",name:"选择CID"},{default:a(()=>[f.value.length>0?(_(),g(p,{key:0,modelValue:l(t).account_data.cid,"onUpdate:modelValue":n[11]||(n[11]=s=>l(t).account_data.cid=s)},{default:a(()=>[(_(!0),w(y,null,I(f.value,s=>(_(),g(C,{key:s.cid,label:s.org_name,value:s.cid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(_(),w("span",me," 请先填写Cookie "))]),_:1}),e(c,{label:"企业ID",name:"cid"},{default:a(()=>[e(k,{modelValue:l(t).account_data.cid,"onUpdate:modelValue":n[12]||(n[12]=s=>l(t).account_data.cid=s),disabled:""},null,8,["modelValue"])]),_:1}),e(c,{label:"普通号CK",name:"download_cookie"},{default:a(()=>[e(u,{modelValue:l(t).account_data.download_cookie,"onUpdate:modelValue":n[13]||(n[13]=s=>l(t).account_data.download_cookie=s)},null,8,["modelValue"])]),_:1})],64)):l(t).account_type==="open_platform_nas"&&"access_token"in l(t).account_data?(_(),w(y,{key:4},[e(c,{label:"AccessToken",name:"access_token"},{default:a(()=>[e(k,{modelValue:l(t).account_data.access_token,"onUpdate:modelValue":n[14]||(n[14]=s=>l(t).account_data.access_token=s)},null,8,["modelValue"])]),_:1}),e(c,{label:"Device ID",name:"device_id"},{default:a(()=>[e(k,{modelValue:l(t).account_data.device_id,"onUpdate:modelValue":n[15]||(n[15]=s=>l(t).account_data.device_id=s)},null,8,["modelValue"])]),_:1}),e(c,{label:"Dlink账号",name:"dlink_cookie"},{default:a(()=>[e(k,{modelValue:l(t).account_data.dlink_cookie,"onUpdate:modelValue":n[16]||(n[16]=s=>l(t).account_data.dlink_cookie=s)},null,8,["modelValue"])]),_:1})],64)):Y("",!0),e(c,null,{default:a(()=>[e(D,{size:"small"},{default:a(()=>[e(V,{theme:"default",onClick:l(m).hideUpdateAccountDataDialog},{default:a(()=>n[18]||(n[18]=[b(" 取消 ")])),_:1,__:[18]},8,["onClick"]),e(V,{type:"submit"},{default:a(()=>n[19]||(n[19]=[b(" 提交 ")])),_:1,__:[19]})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"])}}}),ke={class:"buttons"},Pe=B({__name:"index",setup(z){const m=x(),{selectReq:v,accountList:t,pagination:i,selectedRowKeys:S}=T(m);X(()=>{t.value=[],m.getAccounts()});const U=P([{colKey:"row-select",type:"multiple",width:50,fixed:"left"},{colKey:"id",title:"ID",ellipsis:!0},{colKey:"baidu_name",title:"用户名",ellipsis:!0},{colKey:"uk",title:"用户标识",ellipsis:!0},{colKey:"account_type",title:"账号类型",ellipsis:!0},{colKey:"today_count",title:"今日解析(实时)",cell:(f,{row:d})=>e(y,null,[d.today_count,b(" ("),M(d.today_size??0),b(")")]),width:150,ellipsis:!0},{colKey:"today_count",title:"今日解析(缓存)",cell:(f,{row:d})=>e(y,null,[M(d.total_size??0)]),width:150,ellipsis:!0},{colKey:"total_count",title:"总计解析",cell:(f,{row:d})=>e(y,null,[d.used_count,b(" ("),M(d.used_size??0),b(")")]),width:150,ellipsis:!0},{colKey:"prov",title:"省份",cell:(f,{row:d})=>e(y,null,[d.prov===null?"未分配":d.prov]),ellipsis:!0},{colKey:"switch",title:"账号状态",cell:(f,{row:d})=>e(y,null,[d.switch?"启用":`禁用 (${d.reason})`]),ellipsis:!0},{colKey:"created_at",title:"创建时间",width:175,ellipsis:!0},{colKey:"updated_at",title:"更新时间",width:175,ellipsis:!0},{colKey:"operation",title:"操作",cell:(f,{row:d})=>e(y,null,[e(R,null,{default:()=>[e(A,{theme:"primary",onClick:o=>m.checkAccountBanStatus(o,d.id)},{default:()=>[b("检查封禁状态")]}),e(A,{theme:"primary",onClick:o=>m.showUpdateAccountDataDialog(o,d)},{default:()=>[b("编辑信息")]})]})]),width:250,fixed:"right"}]);return(f,d)=>{const o=L,n=E,u=A,c=R,C=ue,p=te,k=ne,V=le;return _(),g(V,null,{default:a(()=>[h("div",ke,[e(c,{size:"small"},{default:a(()=>[e(n,{modelValue:l(v).column,"onUpdate:modelValue":d[0]||(d[0]=D=>l(v).column=D),onChange:l(m).getAccounts},{default:a(()=>[e(o,{label:"按 id 排序",value:"id"}),e(o,{label:"按 baidu_name 排序",value:"baidu_name"}),e(o,{label:"按 uk 排序",value:"uk"}),e(o,{label:"按 account_type 排序",value:"account_type"}),e(o,{label:"按 account_data 排序",value:"account_data"}),e(o,{label:"按 switch 排序",value:"switch"}),e(o,{label:"按 reason 排序",value:"reason"}),e(o,{label:"按 prov 排序",value:"prov"}),e(o,{label:"按 created_at 排序",value:"created_at"}),e(o,{label:"按 updated_at 排序",value:"updated_at"}),e(o,{label:"按 deleted_at 排序",value:"deleted_at"})]),_:1},8,["modelValue","onChange"]),e(n,{modelValue:l(v).direction,"onUpdate:modelValue":d[1]||(d[1]=D=>l(v).direction=D),onChange:l(m).getAccounts},{default:a(()=>[e(o,{label:"正序",value:"asc"}),e(o,{label:"倒序",value:"desc"})]),_:1},8,["modelValue","onChange"]),e(u,{onClick:l(m).getAccounts},{default:a(()=>d[2]||(d[2]=[b(" 刷新列表 ")])),_:1,__:[2]},8,["onClick"]),e(u,{onClick:l(m).showAddAccountDialog},{default:a(()=>d[3]||(d[3]=[b(" 添加账号 ")])),_:1,__:[3]},8,["onClick"]),e(u,{theme:"danger",onClick:l(m).deleteSelection},{default:a(()=>d[4]||(d[4]=[b(" 批量删除 ")])),_:1,__:[4]},8,["onClick"]),e(u,{onClick:l(m).updateInfoSelection},{default:a(()=>d[5]||(d[5]=[b(" 批量更新账户信息 ")])),_:1,__:[5]},8,["onClick"]),e(u,{onClick:l(m).showUpdateSwitchDialog},{default:a(()=>d[6]||(d[6]=[b(" 批量启用/禁用 ")])),_:1,__:[6]},8,["onClick"]),e(u,{onClick:l(m).showUpdateProvDialog},{default:a(()=>d[7]||(d[7]=[b(" 批量更新省份 ")])),_:1,__:[7]},8,["onClick"])]),_:1})]),e(se),e(ce),e(re),e(pe),e(k,{"row-key":"id",resizable:"","lazy-load":"",bordered:!0,data:l(t),pagination:l(i),columns:U.value,"select-on-row-click":!0,selectedRowKeys:l(S),onSelectChange:l(m).handleSelectChange},{expandedRow:a(({row:D})=>[e(p,{bordered:"",colon:"",layout:"vertical"},{default:a(()=>[(_(!0),w(y,null,I(D.account_data,(K,q)=>(_(),g(C,{key:q,label:q},{default:a(()=>[b(ee(K),1)]),_:2},1032,["label"]))),128))]),_:2},1024)]),_:1},8,["data","pagination","columns","selectedRowKeys","onSelectChange"])]),_:1})}}});export{Pe as default};
