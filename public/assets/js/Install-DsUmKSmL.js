import{p as y,d as c,b as M,a as I,e as w,f as o,g as a,m as n,i as C,M as U,R as x,o as B}from"./index-DfK_AuQa.js";import{L as S}from"./index-BZ0pwf8D.js";import{F,a as N}from"./index-BrDyvP4W.js";import{I as k,S as L,C as R}from"./index-jWhfq8_6.js";import{I as z}from"./index-3CbCL5Pk.js";import{B as D}from"./index-DfLWWs_9.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./add-NVN9jDI3.js";const P="/favicon.ico",T=d=>y.request("post","/install",{data:d}),j=c({__name:"Install",setup(d){const r=x(),t=M({app_name:"",db_host:"",db_port:3306,db_database:"",db_username:"",db_password:""}),_={app_name:[{required:!0,message:"请输入网站名称"}],db_host:[{required:!0,message:"请输入Mysql地址"}],db_port:[{required:!0,message:"请输入Mysql端口"}],db_database:[{required:!0,message:"请输入Mysql数据库"}],db_username:[{required:!0,message:"请输入Mysql用户名"}]},p=I(),b=async({validateResult:m})=>{m===!0&&(await T(t.value),U.success("安装成功"),await p.getConfig(),r.push("/admin"))};return(m,e)=>{const u=k,s=N,i=z,f=D,V=L,v=F,g=R,q=S;return B(),w(q,null,{default:o(()=>[a(g,{class:"login"},{default:o(()=>[e[7]||(e[7]=n("h1",null,[n("img",{src:P,alt:"logo"})],-1)),e[8]||(e[8]=n("h2",null,"安装 | HkList",-1)),a(v,{data:t.value,rules:_,onSubmit:b},{default:o(()=>[a(s,{name:"app_name",label:"网站名称"},{default:o(()=>[a(u,{modelValue:t.value.app_name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.app_name=l)},null,8,["modelValue"])]),_:1}),a(s,{name:"db_host",label:"Mysql地址"},{default:o(()=>[a(u,{modelValue:t.value.db_host,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.db_host=l)},null,8,["modelValue"])]),_:1}),a(s,{name:"db_port",label:"Mysql端口"},{default:o(()=>[a(i,{modelValue:t.value.db_port,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.db_port=l)},null,8,["modelValue"])]),_:1}),a(s,{name:"db_database",label:"Mysql数据库"},{default:o(()=>[a(u,{modelValue:t.value.db_database,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.db_database=l)},null,8,["modelValue"])]),_:1}),a(s,{name:"db_username",label:"Mysql用户名"},{default:o(()=>[a(u,{modelValue:t.value.db_username,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.db_username=l)},null,8,["modelValue"])]),_:1}),a(s,{name:"db_password",label:"Mysql密码"},{default:o(()=>[a(u,{modelValue:t.value.db_password,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.db_password=l)},null,8,["modelValue"])]),_:1}),a(s,null,{default:o(()=>[a(V,{size:"small"},{default:o(()=>[a(f,{type:"submit"},{default:o(()=>e[6]||(e[6]=[C(" 提交 ")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1,__:[7,8]})]),_:1})}}}),X=H(j,[["__scopeId","data-v-24db85b4"]]);export{X as default};
