import{p as V,d as h,a as x,s as y,b as B,e as C,f as o,g as t,m as e,j as l,t as I,i as k,M as F,R as L,o as R}from"./index-DfK_AuQa.js";import{L as N}from"./index-BZ0pwf8D.js";import{F as D,a as M}from"./index-BrDyvP4W.js";import{I as P,S as T,C as j}from"./index-jWhfq8_6.js";import{B as q}from"./index-DfLWWs_9.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=n=>V.request("post","/admin/check_password",{data:n}),A=["src"],E=h({__name:"Login",setup(n){const u=x(),{config:r}=y(u),c=L(),a=B({admin_password:""}),d={},p=async({validateResult:m})=>{m===!0&&(await U({admin_password:a.value.admin_password}),localStorage.setItem("admin_password",a.value.admin_password),F.success("登陆成功"),c.push("/admin"))};return(m,s)=>{const i=P,_=M,f=q,g=T,w=D,S=j,b=N;return R(),C(b,null,{default:o(()=>[t(S,{class:"login"},{default:o(()=>[e("h1",null,[e("img",{src:l(r).logo,alt:"logo"},null,8,A)]),e("h2",null,"登陆 | "+I(l(r).name),1),t(w,{data:a.value,rules:d,onSubmit:p},{default:o(()=>[t(_,{name:"admin_password",label:"管理员密码"},{default:o(()=>[t(i,{modelValue:a.value.admin_password,"onUpdate:modelValue":s[0]||(s[0]=v=>a.value.admin_password=v)},null,8,["modelValue"])]),_:1}),t(_,null,{default:o(()=>[t(g,{size:"small"},{default:o(()=>[t(f,{type:"submit"},{default:o(()=>s[1]||(s[1]=[k(" 提交 ")])),_:1,__:[1]})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})}}}),W=z(E,[["__scopeId","data-v-1a577e39"]]);export{W as default};
